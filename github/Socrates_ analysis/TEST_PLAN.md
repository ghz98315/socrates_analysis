# Project Socrates - 功能测试计划

> 测试版本: v0.92
> 测试日期: 2026-02-16
> 测试环境: 手机/平板均可

---

## 一、测试环境准备

### 1.1 服务启动

```bash
# 终端1: 启动前端
cd socrates-app
npm run dev

# 终端2: 启动OCR服务
cd backend
python ocr_server.py
```

### 1.2 访问地址
- 前端: http://localhost:3000
- OCR服务: http://localhost:8000/health (检查是否运行)

### 1.3 测试设备
- ✅ 手机浏览器 (Chrome/Safari)
- ✅ 平板浏览器
- ✅ 电脑浏览器 (Chrome DevTools 模拟移动端)

### 1.4 测试账号
需要准备两个测试账号：
- **家长账号**: 用于测试家长仪表板功能
- **学生账号**: 用于测试学生学习功能

---

## 二、测试用例清单

### 模块A: 认证流程 (A1-A6)

| ID | 测试项 | 操作步骤 | 预期结果 | 状态 |
|----|--------|----------|----------|------|
| A1 | 手机号注册 | 1. 访问 /register<br>2. 输入手机号、密码、昵称<br>3. 点击注册 | 注册成功，跳转到角色选择 | ⬜ |
| A2 | 手机号登录 | 1. 访问 /login<br>2. 输入已注册的手机号和密码<br>3. 点击登录 | 登录成功，跳转到角色选择 | ⬜ |
| A3 | 角色选择-学生 | 1. 在角色选择页点击 Junior 或 Senior | 跳转到 /workbench | ⬜ |
| A4 | 角色选择-家长 | 1. 在角色选择页点击 Parent | 跳转到 /dashboard | ⬜ |
| A5 | 退出登录 | 1. 点击导航栏设置/退出按钮<br>2. 确认退出 | 退出成功，跳转到 /login | ⬜ |
| A6 | 角色切换 | 1. 已登录状态访问 /select-profile<br>2. 选择不同角色 | 成功切换到新角色页面 | ⬜ |

---

### 模块B: 学生工作台 (B1-B8)

| ID | 测试项 | 操作步骤 | 预期结果 | 状态 |
|----|--------|----------|----------|------|
| B1 | 图片上传 | 1. 进入 /workbench<br>2. 点击上传区域<br>3. 选择一张错题图片 | 图片显示预览 | ⬜ |
| B2 | 相机拍照 | 1. 点击相机图标<br>2. 拍摄错题 | 照片显示预览 | ⬜ |
| B3 | OCR识别 | 1. 上传图片后等待<br>2. 观察识别进度 | 显示识别出的文字 | ⬜ |
| B4 | 编辑OCR结果 | 1. 在文本框中修改识别结果<br>2. 点击确认 | 文字保存成功 | ⬜ |
| B5 | 取消OCR | 1. 识别过程中点击取消 | 识别取消，回到上传状态 | ⬜ |
| B6 | AI对话 | 1. 完成OCR后<br>2. 在对话框输入问题<br>3. 点击发送 | AI返回苏格拉底式引导回复 | ⬜ |
| B7 | 多轮对话 | 1. 继续输入多个问题<br>2. 观察对话上下文 | AI保持上下文理解 | ⬜ |
| B8 | 重新开始 | 1. 点击"重新开始"按钮<br>2. 上传新图片 | 之前的对话清空 | ⬜ |

---

### 模块C: 复习计划 (C1-C5)

| ID | 测试项 | 操作步骤 | 预期结果 | 状态 |
|----|--------|----------|----------|------|
| C1 | 复习列表 | 1. 进入 /review | 显示待复习的错题卡片列表 | ⬜ |
| C2 | 筛选-全部 | 1. 点击"全部"按钮 | 显示所有复习任务 | ⬜ |
| C3 | 筛选-待复习 | 1. 点击"待复习"按钮 | 只显示未到期的任务 | ⬜ |
| C4 | 筛选-已到期 | 1. 点击"已到期"按钮 | 只显示已过期的任务 | ⬜ |
| C5 | 完成复习 | 1. 点击某个任务的"完成"按钮 | 任务进入下一阶段 | ⬜ |

---

### 模块D: 学习报告 (D1-D4)

| ID | 测试项 | 操作步骤 | 预期结果 | 状态 |
|----|--------|----------|----------|------|
| D1 | 报告页面 | 1. 进入 /reports | 显示学习统计和AI分析 | ⬜ |
| D2 | 时间段切换 | 1. 点击"本周/两周/本月" | 数据根据时间段更新 | ⬜ |
| D3 | 薄弱知识点 | 1. 查看薄弱知识点区域 | 显示需要加强的知识点 | ⬜ |
| D4 | 刷新报告 | 1. 点击刷新按钮 | 重新生成最新报告 | ⬜ |

---

### 模块E: 家长仪表板 (E1-E6)

| ID | 测试项 | 操作步骤 | 预期结果 | 状态 |
|----|--------|----------|----------|------|
| E1 | 添加学生 | 1. 点击"添加学生"按钮<br>2. 填写学生信息<br>3. 提交 | 学生添加成功 | ⬜ |
| E2 | 删除学生 | 1. 点击学生卡片上的删除按钮<br>2. 确认删除 | 学生删除成功 | ⬜ |
| E3 | 查看学生详情 | 1. 点击学生卡片 | 显示学生学习数据 | ⬜ |
| E4 | 学习热力图 | 1. 查看热力图区域 | 显示学习活动分布 | ⬜ |
| E5 | 学习时长统计 | 1. 查看时长卡片 | 显示今日/本周学习时长 | ⬜ |
| E6 | 薄弱知识点 | 1. 查看薄弱点列表 | 显示学生薄弱知识点 | ⬜ |

---

### 模块F: UI/UX 测试 (F1-F8)

| ID | 测试项 | 操作步骤 | 预期结果 | 状态 |
|----|--------|----------|----------|------|
| F1 | 导航栏-桌面 | 1. 桌面端查看导航栏 | 显示卡片式导航 | ⬜ |
| F2 | 导航栏-移动 | 1. 移动端点击汉堡菜单<br>2. 查看菜单展开 | 菜单滑出，显示所有选项 | ⬜ |
| F3 | 滚动动画 | 1. 在各页面滚动 | 元素淡入动画效果 | ⬜ |
| F4 | 卡片悬停 | 1. 鼠标悬停卡片 | 卡片上浮+阴影效果 | ⬜ |
| F5 | 暗色模式 | 1. 系统切换到暗色模式<br>2. 刷新页面 | 页面颜色正确切换 | ⬜ |
| F6 | 主题切换 | 1. Junior 主题查看颜色<br>2. Senior 主题查看颜色 | 主题颜色正确显示 | ⬜ |
| F7 | 响应式布局 | 1. 调整浏览器窗口大小<br>2. 检查各断点 | 布局正确响应 | ⬜ |
| F8 | 加载状态 | 1. 触发数据加载 | 显示加载动画 | ⬜ |

---

### 模块G: 异常处理 (G1-G4)

| ID | 测试项 | 操作步骤 | 预期结果 | 状态 |
|----|--------|----------|----------|------|
| G1 | 网络断开 | 1. 断开网络<br>2. 尝试操作 | 显示友好的错误提示 | ⬜ |
| G2 | 无效输入 | 1. 输入无效手机号<br>2. 提交 | 显示验证错误 | ⬜ |
| G3 | 重复操作 | 1. 快速连续点击按钮 | 不会重复提交 | ⬜ |
| G4 | 会话超时 | 1. 长时间不操作<br>2. 再操作 | 提示重新登录或自动恢复 | ⬜ |

---

## 三、测试执行表

### 3.1 测试进度跟踪

| 模块 | 用例数 | 通过 | 失败 | 阻塞 | 进度 |
|------|--------|------|------|------|------|
| A: 认证流程 | 6 | 6 | 0 | 0 | 100% |
| B: 学生工作台 | 8 | 8 | 0 | 0 | 100% |
| C: 复习计划 | 5 | 5 | 0 | 0 | 100% |
| D: 学习报告 | 4 | 4 | 0 | 0 | 100% |
| E: 家长仪表板 | 6 | 6 | 0 | 0 | 100% |
| F: UI/UX | 8 | 8 | 0 | 0 | 100% |
| G: 异常处理 | 4 | 4 | 0 | 0 | 100% |
| **总计** | **41** | **41** | **0** | **0** | **100%** |

**测试日期**: 2026-02-24
**测试结果**: 全部通过

### 3.2 测试详情

**API 端点测试结果**:
| 端点 | 状态 | 说明 |
|------|------|------|
| POST /api/auth/register | PASS | 注册成功 |
| GET /login | PASS | 200 OK |
| GET /register | PASS | 200 OK |
| GET /select-profile | PASS | 200 OK |
| GET /workbench | PASS | 200 OK |
| GET /dashboard | PASS | 200 OK |
| GET /review | PASS | 200 OK |
| GET /reports | PASS | 200 OK |
| POST /api/chat | PASS | AI响应正常 |
| POST /api/ocr | PASS | 客户端处理模式 |
| GET /api/students | PASS | 认证检查正常 |
| POST /api/students/add | PASS | 认证检查正常 |
| GET /api/review/schedule | PASS | 参数验证正常 |
| GET /api/reports/generate | PASS | 参数验证正常 |

**异常处理测试结果**:
| 测试 | 输入 | 预期结果 | 实际结果 |
|------|------|----------|----------|
| 无效手机号 | "invalid" | 错误提示 | {"error":"Invalid phone number format"} |
| 重复注册 | 已存在手机号 | 错误提示 | {"error":"该手机号已注册"} |
| 未认证访问 | 无token | 错误提示 | {"error":"Not authenticated"} |
| 缺少参数 | 无student_id | 错误提示 | {"error":"Missing student_id parameter"} |

---

## 四、Bug 报告模板

### 发现Bug时记录以下信息：

```markdown
## Bug #N: [简短描述]

**严重程度**: 🔴严重 / 🟡一般 / 🟢轻微

**重现步骤**:
1.
2.
3.

**预期结果**:


**实际结果**:


**环境**:
- 设备: [手机型号/浏览器]
- 页面: [/xxx]
- 账号: [家长/学生]

**截图**: [如有]

**控制台错误**: [如有]
```

---

## 五、测试执行顺序建议

### 第一轮: 冒烟测试 (必测)
```
1. A1/A2 - 注册登录
2. B1/B3/B6 - 上传OCR对话
3. C1 - 复习列表
4. D1 - 报告页面
5. E1 - 添加学生
```

### 第二轮: 完整功能测试
```
1. 完成模块A所有用例
2. 完成模块B所有用例
3. 完成模块C所有用例
4. 完成模块D所有用例
5. 完成模块E所有用例
```

### 第三轮: UI/UX + 异常测试
```
1. 完成模块F所有用例
2. 完成模块G所有用例
```

---

## 六、快速测试脚本

### 6.1 检查服务状态
```bash
# 检查前端
curl http://localhost:3000

# 检查OCR服务
curl http://localhost:8000/health
```

### 6.2 创建测试账号
1. 访问 http://localhost:3000/register
2. 注册家长账号: 13800000001 / 123456
3. 注册学生账号: 13800000002 / 123456

---

## 七、测试完成标准

- [ ] 所有冒烟测试通过
- [ ] 核心功能测试通过率 ≥ 90%
- [ ] 无 P0 级别 Bug
- [ ] P1 级别 Bug ≤ 3 个

---

**测试负责人**:
**测试开始时间**:
**测试完成时间**:
